# 第 11 章 MySQL Shell 实用工具

**目录**

- [11.1 升级检查器实用工具](./11.01.升级检查器实用工具.md)
- [11.2 JSON 导入实用工具](./11.02.JSON 导入实用工具/11.02.00.JSON 导入实用工具.md)
- [11.3 表导出实用工具](./11.03.表导出实用工具.md)
- [11.4 并行表导入实用工具](./11.04.并行表导入实用工具.md)
- [11.5 实例转储实用工具、模式转储实用工具和表转储实用工具](./11.05.实例转储实用工具、模式转储实用工具和表转储实用工具.md)
- [11.6 转储加载实用工具](./11.06.转储加载实用工具.md)
- [11.7 诊断实用工具](./11.07.诊断实用工具/11.07.00.诊断实用工具.md)

MySQL Shell 包括用于处理 MySQL 的实用工具。要在 MySQL Shell 中访问这些实用工具，请使用 `util` 全局对象，该对象在 JavaScript 和 Python 模式下可用，但在 SQL 模式下不可用。`util` 全局对象提供以下函数：

- `checkForServerUpgrade()`

  一个升级检查器实用工具，使您能够验证 MySQL 服务器实例是否准备好进行升级。参见第 11.1 节，“升级检查器实用工具”。

- `importJSON()`

  一个 JSON 导入实用工具，使您能够将 JSON 文档导入 MySQL Server 集合或表。参见第 11.2 节，“JSON 导入实用工具”。

- `exportTable()`

  一个表导出实用工具，将 MySQL 关系表导出到数据文件中，然后可以使用 MySQL Shell 的并行表导入实用工具将其上传到目标 MySQL 服务器上的表中，或导入数据到不同的应用程序，或作为单个数据表的轻量级逻辑备份。参见第 11.3 节，“表导出实用工具”。

- `importTable()`
  
  一个并行表导入实用工具，它将单个数据文件分割并使用多个线程将数据块加载到 MySQL 表中。参见第 11.4 节，“并行表导入实用工具”。
  
- `dumpInstance()`, `dumpSchemas()`, `dumpTables()`
  
  一个实例转储实用工具、模式转储实用工具和表转储实用工具，可以将所有模式、选定的模式或选定的表和视图从 MySQL 实例导出到 Oracle Cloud Infrastructure 对象存储桶或一组本地文件中。参见第 11.5 节，“实例转储实用工具、模式转储实用工具和表转储实用工具”。
  
- `loadDump()`
  
  一个转储加载实用工具，可以将使用 MySQL Shell 的实例转储实用工具和模式转储实用工具转储的模式导入到 MySQL 实例中。参见第 11.6 节，“转储加载实用工具”。
  
- `collectDiagnostics()`
  
  一个诊断生成实用工具，从连接的 MySQL 服务器收集信息，以 TSV 和 YAML 格式生成报告，并将它们以 zip 归档文件的形式呈现在您选择的位置。
  
  此实用工具使您能够从独立服务器、复制拓扑的成员和 MySQL HeatWave 服务 DB 系统中检索诊断信息。
  
  参见第 11.7.1 节，“collectDiagnostics 实用工具”。

> **重要提示**
>
> 从 MySQL Shell 8.0.32 开始，MySQL Shell 默认情况下会读取 MySQL 服务器的选项文件和登录路径。因此，如果您连接到使用选项文件的 MySQL 服务器，默认情况下将使用该文件，并尝试使用该配置创建全局会话。如果您不想使用选项文件，必须在命令行中添加 `--no-defaults`。